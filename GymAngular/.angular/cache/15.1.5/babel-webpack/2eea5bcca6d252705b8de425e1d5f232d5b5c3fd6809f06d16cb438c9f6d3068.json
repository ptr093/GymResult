{"ast":null,"code":"import { FormGroup } from '@angular/forms';\n// Generic validator for Reactive forms\n// Implemented as a class, not a service, so it can retain state for multiple forms.\n// NOTE: This validator does NOT support validation of controls or groups within a FormArray.\nexport class GenericValidator {\n  // Provide the set of valid validation messages\n  // Stucture:\n  // controlName1: {\n  //     validationRuleName1: 'Validation Message.',\n  //     validationRuleName2: 'Validation Message.'\n  // },\n  // controlName2: {\n  //     validationRuleName1: 'Validation Message.',\n  //     validationRuleName2: 'Validation Message.'\n  // }\n  constructor(validationMessages) {\n    this.validationMessages = validationMessages;\n  }\n  // Processes each control within a FormGroup\n  // And returns a set of validation messages to display\n  // Structure\n  // controlName1: 'Validation Message.',\n  // controlName2: 'Validation Message.'\n  processMessages(container) {\n    et;\n    messages: {\n      [x, string];\n      string;\n    }\n    {}\n    ;\n    for (const controlKey in container?.controls) {\n      if (container.controls.hasOwnProperty(controlKey)) {\n        const c = container.controls[controlKey];\n        // If it is a FormGroup, process its child controls.\n        if (c instanceof FormGroup) {\n          const childMessages = this.processMessages(c);\n          Object.assign(messages, childMessages);\n        } else {\n          // Only validate if there are validation messages for the control\n          if (this.validationMessages[controlKey]) {\n            messages[controlKey] = '';\n            if ((c.dirty || c.touched) && c.errors) {\n              Object.keys(c.errors).map(messageKey => {\n                if (this.validationMessages[controlKey][messageKey]) {\n                  messages[controlKey] += this.validationMessages[controlKey][messageKey] + ' ';\n                }\n              });\n            }\n          }\n        }\n      }\n    }\n    return messages;\n  }\n  getErrorCount(container) {\n    let errorCount = 0;\n    for (const controlKey in container.controls) {\n      if (container.controls.hasOwnProperty(controlKey)) {\n        if (container.controls[controlKey].errors) {\n          errorCount += Object.keys(container.controls[controlKey].hasError).length;\n          console.log(errorCount);\n        }\n      }\n    }\n    return errorCount;\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAS,QAAQ,gBAAgB;AAE1C;AACA;AACA;AACA,OAAM,MAAOC,gBAAgB;EAE3B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,YAAoBC,kBAAgE;IAAhE,uBAAkB,GAAlBA,kBAAkB;EAEtC;EAEA;EACA;EACA;EACA;EACA;EACAC,eAAe,CAACC,SAAoB;IACjCC,EAAE;IAACC,QAAQ,EAAE;MAAE,CAACC,CAAC,EAAEC,MAAM,CAAC;MAAEA,MAAM;;IAAM;IAAE;IAC3C,KAAK,MAAMC,UAAU,IAAIL,SAAS,EAAEM,QAAQ,EAAE;MAC5C,IAAIN,SAAS,CAACM,QAAQ,CAACC,cAAc,CAACF,UAAU,CAAC,EAAE;QACjD,MAAMG,CAAC,GAAGR,SAAS,CAACM,QAAQ,CAACD,UAAU,CAAC;QACxC;QACA,IAAIG,CAAC,YAAYb,SAAS,EAAE;UAC1B,MAAMc,aAAa,GAAG,IAAI,CAACV,eAAe,CAACS,CAAC,CAAC;UAC7CE,MAAM,CAACC,MAAM,CAACT,QAAQ,EAAEO,aAAa,CAAC;SACvC,MAAM;UACL;UACA,IAAI,IAAI,CAACX,kBAAkB,CAACO,UAAU,CAAC,EAAE;YACvCH,QAAQ,CAACG,UAAU,CAAC,GAAG,EAAE;YACzB,IAAI,CAACG,CAAC,CAACI,KAAK,IAAIJ,CAAC,CAACK,OAAO,KAAKL,CAAC,CAACM,MAAM,EAAE;cACtCJ,MAAM,CAACK,IAAI,CAACP,CAAC,CAACM,MAAM,CAAC,CAACE,GAAG,CAACC,UAAU,IAAG;gBACrC,IAAI,IAAI,CAACnB,kBAAkB,CAACO,UAAU,CAAC,CAACY,UAAU,CAAC,EAAE;kBACnDf,QAAQ,CAACG,UAAU,CAAC,IAAI,IAAI,CAACP,kBAAkB,CAACO,UAAU,CAAC,CAACY,UAAU,CAAC,GAAG,GAAG;;cAEjF,CAAC,CAAC;;;;;;IAMZ,OAAOf,QAAQ;EACjB;EAEAgB,aAAa,CAAClB,SAAoB;IAChC,IAAImB,UAAU,GAAG,CAAC;IAClB,KAAK,MAAMd,UAAU,IAAIL,SAAS,CAACM,QAAQ,EAAE;MAC3C,IAAIN,SAAS,CAACM,QAAQ,CAACC,cAAc,CAACF,UAAU,CAAC,EAAE;QACjD,IAAIL,SAAS,CAACM,QAAQ,CAACD,UAAU,CAAC,CAACS,MAAM,EAAE;UACzCK,UAAU,IAAIT,MAAM,CAACK,IAAI,CAACf,SAAS,CAACM,QAAQ,CAACD,UAAU,CAAC,CAACe,QAAQ,CAAC,CAACC,MAAM;UACzEC,OAAO,CAACC,GAAG,CAACJ,UAAU,CAAC;;;;IAI7B,OAAOA,UAAU;EACnB","names":["FormGroup","GenericValidator","constructor","validationMessages","processMessages","container","et","messages","x","string","controlKey","controls","hasOwnProperty","c","childMessages","Object","assign","dirty","touched","errors","keys","map","messageKey","getErrorCount","errorCount","hasError","length","console","log"],"sourceRoot":"","sources":["D:\\repos\\GymResult\\GymAngular\\src\\app\\generic-validator.ts"],"sourcesContent":["import { FormGroup } from '@angular/forms';\r\n\r\n// Generic validator for Reactive forms\r\n// Implemented as a class, not a service, so it can retain state for multiple forms.\r\n// NOTE: This validator does NOT support validation of controls or groups within a FormArray.\r\nexport class GenericValidator {\r\n\r\n  // Provide the set of valid validation messages\r\n  // Stucture:\r\n  // controlName1: {\r\n  //     validationRuleName1: 'Validation Message.',\r\n  //     validationRuleName2: 'Validation Message.'\r\n  // },\r\n  // controlName2: {\r\n  //     validationRuleName1: 'Validation Message.',\r\n  //     validationRuleName2: 'Validation Message.'\r\n  // }\r\n  constructor(private validationMessages: { [key: string]: { [key: string]: string } }) {\r\n\r\n  }\r\n\r\n  // Processes each control within a FormGroup\r\n  // And returns a set of validation messages to display\r\n  // Structure\r\n  // controlName1: 'Validation Message.',\r\n  // controlName2: 'Validation Message.'\r\n  processMessages(container: FormGroup): { [key: string]: string } {\r\n    .et messages: { [x: string]: string; } = {};\r\n    for (const controlKey in container?.controls) {\r\n      if (container.controls.hasOwnProperty(controlKey)) {\r\n        const c = container.controls[controlKey];\r\n        // If it is a FormGroup, process its child controls.\r\n        if (c instanceof FormGroup) {\r\n          const childMessages = this.processMessages(c);\r\n          Object.assign(messages, childMessages);\r\n        } else {\r\n          // Only validate if there are validation messages for the control\r\n          if (this.validationMessages[controlKey]) {\r\n            messages[controlKey] = '';\r\n            if ((c.dirty || c.touched) && c.errors) {\r\n              Object.keys(c.errors).map(messageKey => {\r\n                if (this.validationMessages[controlKey][messageKey]) {\r\n                  messages[controlKey] += this.validationMessages[controlKey][messageKey] + ' ';\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return messages;\r\n  }\r\n\r\n  getErrorCount(container: FormGroup): number {\r\n    let errorCount = 0;\r\n    for (const controlKey in container.controls) {\r\n      if (container.controls.hasOwnProperty(controlKey)) {\r\n        if (container.controls[controlKey].errors) {\r\n          errorCount += Object.keys(container.controls[controlKey].hasError).length;\r\n          console.log(errorCount);\r\n        }\r\n      }\r\n    }\r\n    return errorCount;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}