{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../workout.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction WorkoutCreationComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.errorMessage, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/workout\"];\n};\nexport class WorkoutCreationComponent {\n  constructor(workoutService, fb, route, router) {\n    this.workoutService = workoutService;\n    this.fb = fb;\n    this.route = route;\n    this.router = router;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.workoutForm = this.fb.group({\n      location: [null],\n      date: [null],\n      description: [null]\n    });\n  }\n  saveExercise() {\n    if (this.workoutForm.valid) {\n      if (this.workoutForm.dirty) {\n        const p = {\n          ...this.workout,\n          ...this.workoutForm.value\n        };\n        this.workoutService.createWorkoutWithoutExercise(p).subscribe({\n          next: () => this.onSaveComplete(),\n          error: err => this.errorMessage = err\n        });\n      } else {\n        this.onSaveComplete();\n      }\n    } else {\n      this.errorMessage = 'Please correct the validation errors.';\n    }\n  }\n  onSaveComplete() {\n    // Reset the form to clear the flags\n    this.workoutForm.reset();\n    this.router.navigate(['/workout']);\n  }\n}\nWorkoutCreationComponent.ɵfac = function WorkoutCreationComponent_Factory(t) {\n  return new (t || WorkoutCreationComponent)(i0.ɵɵdirectiveInject(i1.WorkoutService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\nWorkoutCreationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WorkoutCreationComponent,\n  selectors: [[\"app-workout-creation\"]],\n  decls: 26,\n  vars: 5,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"row\", \"mb-2\"], [\"for\", \"Id\", 1, \"col-md-2\", \"col-form-label\"], [1, \"col-md-8\"], [\"id\", \"Id\", \"type\", \"text\", \"placeholder\", \"Lokalizacja\", \"formControlName\", \"location\", 1, \"form-control\"], [\"for\", \"exerciseId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"Id\", \"type\", \"text\", \"placeholder\", \"opis\", \"formControlName\", \"description\", 1, \"form-control\"], [\"id\", \"Id\", \"type\", \"date\", \"placeholder\", \"data\", \"formControlName\", \"date\", 1, \"form-control\"], [1, \"offset-md-2\", \"col-md-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mr-3\", 2, \"width\", \"80px\", 3, \"disabled\"], [\"type\", \"button\", \"title\", \"Anuluj edytowanie\", 1, \"btn\", \"btn-outline-secondary\", \"mr-3\", 2, \"width\", \"80px\", 3, \"routerLink\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"]],\n  template: function WorkoutCreationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function WorkoutCreationComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.saveExercise();\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"label\", 5);\n      i0.ɵɵtext(6, \"Lokalizacja\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelement(8, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 8);\n      i0.ɵɵtext(11, \"Opis\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 6);\n      i0.ɵɵelement(13, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 4)(15, \"label\", 8);\n      i0.ɵɵtext(16, \"Data\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 6);\n      i0.ɵɵelement(18, \"input\", 10);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 4)(20, \"div\", 11)(21, \"button\", 12);\n      i0.ɵɵtext(22, \" Zapisz \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"button\", 13);\n      i0.ɵɵtext(24, \" Anuluj \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(25, WorkoutCreationComponent_div_25_Template, 2, 1, \"div\", 14);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.workoutForm);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"disabled\", !ctx.workoutForm.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAsFIA,+BAC0B;IAAAA,YAC1B;IAAAA,iBAAM;;;;IADoBA,eAC1B;IAD0BA,mDAC1B;;;;;;AC7EJ,OAAM,MAAOC,wBAAwB;EAGnCC,YAAoBC,cAA8B,EACxCC,EAAe,EACLC,KAAqB,EACrBC,MAAc;IAHd,mBAAc,GAAdH,cAAc;IACxB,OAAE,GAAFC,EAAE;IACQ,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IAgB1B,iBAAY,GAAG,EAAE;EAfD;EAChBC,QAAQ;IAEN,IAAI,CAACC,WAAW,GAAG,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MAC/BC,QAAQ,EAAE,CAAC,IAAI,CAAC;MAChBC,IAAI,EAAE,CAAC,IAAI,CACV;MACDC,WAAW,EAAE,CAAC,IAAI;KAGnB,CAAC;EACJ;EAQAC,YAAY;IACV,IAAI,IAAI,CAACL,WAAW,CAACM,KAAK,EAAE;MAC1B,IAAI,IAAI,CAACN,WAAW,CAACO,KAAK,EAAE;QAC1B,MAAMC,CAAC,GAAG;UAAE,GAAG,IAAI,CAACC,OAAO;UAAE,GAAG,IAAI,CAACT,WAAW,CAACU;QAAK,CAAE;QAItD,IAAI,CAACf,cAAc,CAACgB,4BAA4B,CAACH,CAAC,CAAC,CAChDI,SAAS,CAAC;UACTC,IAAI,EAAE,MAAM,IAAI,CAACC,cAAc,EAAE;UACjCC,KAAK,EAAEC,GAAG,IAAI,IAAI,CAACC,YAAY,GAAGD;SACnC,CAAC;OAIP,MAAM;QACL,IAAI,CAACF,cAAc,EAAE;;KAExB,MAAM;MACL,IAAI,CAACG,YAAY,GAAG,uCAAuC;;EAE/D;EAEAH,cAAc;IACZ;IACA,IAAI,CAACd,WAAW,CAACkB,KAAK,EAAE;IACxB,IAAI,CAACpB,MAAM,CAACqB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;;AArDW1B,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXrChC,8BAAkB;MACdA,yBAEM;MAENA,8BAAuB;MAEfA;QAAA,OAAYiC,kBAAc;MAAA,EAAC;MAG3BjC,8BAAiC;MAEbA,2BAAW;MAAAA,iBAAQ;MACnCA,8BAAsB;MACpBA,2BAMS;MAEXA,iBAAM;MAGdA,8BAAiC;MAEPA,qBAAI;MAAAA,iBAAQ;MACpCA,+BAAsB;MACpBA,4BAMS;MAEXA,iBAAM;MACNA,+BAAiC;MAEPA,qBAAI;MAAAA,iBAAQ;MACpCA,+BAAsB;MACpBA,6BAMS;MAIXA,iBAAM;MAYVA,+BAAiC;MAO3BA,yBACF;MAAAA,iBAAS;MACTA,mCAIoC;MAClCA,yBACF;MAAAA,iBAAS;MAOjBA,4EAEM;MACRA,iBAAM;;;MAjFIA,eAAyB;MAAzBA,2CAAyB;MA8DjBA,gBAA+B;MAA/BA,iDAA+B;MAO/BA,eAA2B;MAA3BA,uDAA2B;MAUrCA,eAAkB;MAAlBA,uCAAkB","names":["i0","WorkoutCreationComponent","constructor","workoutService","fb","route","router","ngOnInit","workoutForm","group","location","date","description","saveExercise","valid","dirty","p","workout","value","createWorkoutWithoutExercise","subscribe","next","onSaveComplete","error","err","errorMessage","reset","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\repos\\GymResult\\GymAngular\\src\\app\\workout\\workout-creation.component.html","D:\\repos\\GymResult\\GymAngular\\src\\app\\workout\\workout-creation.component.ts"],"sourcesContent":["<div class=\"card\">\n    <div class=\"card-header\">\n     \n    </div>\n  \n    <div class=\"card-body\">\n      <form novalidate\n            (ngSubmit)=\"saveExercise()\"\n            [formGroup]=\"workoutForm\">\n\n            <div class=\"form-group row mb-2\">\n                <label class=\"col-md-2 col-form-label\"\n                       for=\"Id\">Lokalizacja</label>\n                <div class=\"col-md-8\">\n                  <input class=\"form-control\"\n                         id=\"Id\"\n                         type=\"text\"\n                         placeholder=\"Lokalizacja\"\n                         formControlName=\"location\"\n                       \n                         />\n                       \n                </div>\n              </div>\n  \n        <div class=\"form-group row mb-2\">\n          <label class=\"col-md-2 col-form-label\"\n                 for=\"exerciseId\">Opis</label>\n          <div class=\"col-md-8\">\n            <input class=\"form-control\"\n                   id=\"Id\"\n                   type=\"text\"\n                   placeholder=\"opis\"\n                   formControlName=\"description\"\n       \n                   />\n        \n          </div>\n          <div class=\"form-group row mb-2\">\n            <label class=\"col-md-2 col-form-label\"\n                   for=\"exerciseId\">Data</label>\n            <div class=\"col-md-8\">\n              <input class=\"form-control\"\n                     id=\"Id\"\n                     type=\"date\"\n                     placeholder=\"data\"\n                     formControlName=\"date\"\n         \n                     />\n  \n                     \n                    \n            </div>\n            </div>\n\n\n\n        </div>\n  \n       \n      \n       \n        \n  \n        <div class=\"form-group row mb-2\">\n          <div class=\"offset-md-2 col-md-4\">\n            <button class=\"btn btn-primary mr-3\"\n                    style=\"width:80px;\"\n                    type=\"submit\"\n                   \n                    [disabled]=\"!workoutForm.valid\">\n              Zapisz\n            </button>\n            <button class=\"btn btn-outline-secondary mr-3\"\n                    style=\"width:80px;\"\n                    type=\"button\"\n                    title=\"Anuluj edytowanie\"\n                    [routerLink]=\"['/workout']\">\n              Anuluj\n            </button>\n   \n          </div>\n        </div>\n      </form>\n    </div>\n  \n    <div class=\"alert alert-danger\"\n         *ngIf=\"errorMessage\">{{errorMessage}}\n    </div>\n  </div>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { WorkoutService } from '../workout.service';\nimport { Workout } from './workout';\n\n@Component({\n  selector: 'app-workout-creation',\n  templateUrl: './workout-creation.component.html',\n  styleUrls: ['./workout-creation.component.css']\n})\nexport class WorkoutCreationComponent  implements OnInit   {\n\n\n  constructor(private workoutService: WorkoutService,\n    private fb: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              ) { }\n  ngOnInit(): void {\n\n    this.workoutForm = this.fb.group({\n      location: [null],\n      date: [null\n      ],\n      description: [null\n               ]\n      \n    });\n  }\n\n  workout!: Workout\n  public workoutForm!: FormGroup \n  errorMessage = ''\n\n\n\n  saveExercise(): void {\n    if (this.workoutForm.valid) {\n      if (this.workoutForm.dirty) {\n        const p = { ...this.workout, ...this.workoutForm.value };\n       \n      \n     \n          this.workoutService.createWorkoutWithoutExercise(p)\n            .subscribe({\n              next: () => this.onSaveComplete(),\n              error: err => this.errorMessage = err\n            });\n        \n       \n      \n      } else {\n        this.onSaveComplete();\n      }\n    } else {\n      this.errorMessage = 'Please correct the validation errors.';\n    }\n  }\n\n  onSaveComplete(): void {\n    // Reset the form to clear the flags\n    this.workoutForm.reset();\n    this.router.navigate(['/workout']);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}