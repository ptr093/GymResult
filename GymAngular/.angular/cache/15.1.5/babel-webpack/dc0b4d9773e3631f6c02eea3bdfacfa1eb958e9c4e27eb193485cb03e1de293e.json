{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../workout.service\";\nexport class WorkoutCreationComponent {\n  constructor(workoutService) {\n    this.workoutService = workoutService;\n  }\n  saveExercise() {\n    if (this.exerciseForm.valid) {\n      if (this.exerciseForm.dirty) {\n        const p = {\n          ...this.workout,\n          ...this.exerciseForm.value\n        };\n        console.log(p.idExercise, p.category, p.series);\n        if (this.exercise === undefined) {\n          p.trainingId = this.workoutId;\n          this.workoutService.createWorkout(p).subscribe({\n            next: () => this.onSaveComplete(),\n            error: err => this.errorMessage = err\n          });\n        } else {\n          this.workoutService.updateWorkout(p).subscribe({\n            next: () => this.onSaveComplete(),\n            error: err => this.errorMessage = err\n          });\n        }\n      } else {\n        this.onSaveComplete();\n      }\n    } else {\n      this.errorMessage = 'Please correct the validation errors.';\n    }\n  }\n  onSaveComplete() {\n    // Reset the form to clear the flags\n    this.exerciseForm.reset();\n    this.router.navigate(['/workout']);\n  }\n}\nWorkoutCreationComponent.ɵfac = function WorkoutCreationComponent_Factory(t) {\n  return new (t || WorkoutCreationComponent)(i0.ɵɵdirectiveInject(i1.WorkoutService));\n};\nWorkoutCreationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WorkoutCreationComponent,\n  selectors: [[\"app-workout-creation\"]],\n  decls: 2,\n  vars: 0,\n  template: function WorkoutCreationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"workout-creation works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AAUA,OAAM,MAAOA,wBAAwB;EAGnCC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;EAAoB;EAQtDC,YAAY;IACV,IAAI,IAAI,CAACC,YAAY,CAACC,KAAK,EAAE;MAC3B,IAAI,IAAI,CAACD,YAAY,CAACE,KAAK,EAAE;QAC3B,MAAMC,CAAC,GAAG;UAAE,GAAG,IAAI,CAACC,OAAO;UAAE,GAAG,IAAI,CAACJ,YAAY,CAACK;QAAK,CAAE;QAEzDC,OAAO,CAACC,GAAG,CAACJ,CAAC,CAACK,UAAU,EAAEL,CAAC,CAACM,QAAQ,EAAEN,CAAC,CAACO,MAAM,CAAC;QAE/C,IAAK,IAAI,CAACC,QAAQ,KAAIC,SAAS,EAAE;UAC/BT,CAAC,CAACU,UAAU,GAAE,IAAI,CAACC,SAAS;UAC5B,IAAI,CAAChB,cAAc,CAACiB,aAAa,CAACZ,CAAC,CAAC,CACjCa,SAAS,CAAC;YACTC,IAAI,EAAE,MAAM,IAAI,CAACC,cAAc,EAAE;YACjCC,KAAK,EAAEC,GAAG,IAAI,IAAI,CAACC,YAAY,GAAGD;WACnC,CAAC;SACL,MACI;UACH,IAAI,CAACtB,cAAc,CAACwB,aAAa,CAACnB,CAAC,CAAC,CACjCa,SAAS,CAAC;YACTC,IAAI,EAAE,MAAM,IAAI,CAACC,cAAc,EAAE;YACjCC,KAAK,EAAEC,GAAG,IAAI,IAAI,CAACC,YAAY,GAAGD;WACnC,CAAC;;OAEP,MAAM;QACL,IAAI,CAACF,cAAc,EAAE;;KAExB,MAAM;MACL,IAAI,CAACG,YAAY,GAAG,uCAAuC;;EAE/D;EAEAH,cAAc;IACZ;IACA,IAAI,CAAClB,YAAY,CAACuB,KAAK,EAAE;IACzB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;;AA7CW7B,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAA8B;EAAAC;EAAAC;EAAAC;IAAA;MCVrCC,yBAAG;MAAAA,uCAAuB;MAAAA,iBAAI","names":["WorkoutCreationComponent","constructor","workoutService","saveExercise","exerciseForm","valid","dirty","p","workout","value","console","log","idExercise","category","series","exercise","undefined","trainingId","workoutId","createWorkout","subscribe","next","onSaveComplete","error","err","errorMessage","updateWorkout","reset","router","navigate","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["D:\\repos\\GymResult\\GymAngular\\src\\app\\workout\\workout-creation.component.ts","D:\\repos\\GymResult\\GymAngular\\src\\app\\workout\\workout-creation.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { WorkoutService } from '../workout.service';\nimport { Workout } from './workout';\n\n@Component({\n  selector: 'app-workout-creation',\n  templateUrl: './workout-creation.component.html',\n  styleUrls: ['./workout-creation.component.css']\n})\nexport class WorkoutCreationComponent implements OnInit   {\n\n\n  constructor(private workoutService: WorkoutService) { }\n\n  workout!: Workout\n  public exerciseForm!: FormGroup \n \n\n\n\n  saveExercise(): void {\n    if (this.exerciseForm.valid) {\n      if (this.exerciseForm.dirty) {\n        const p = { ...this.workout, ...this.exerciseForm.value };\n       \n        console.log(p.idExercise, p.category, p.series);\n        \n        if ( this.exercise=== undefined) {\n          p.trainingId =this.workoutId\n          this.workoutService.createWorkout(p)\n            .subscribe({\n              next: () => this.onSaveComplete(),\n              error: err => this.errorMessage = err\n            });\n        } \n        else {\n          this.workoutService.updateWorkout(p)\n            .subscribe({\n              next: () => this.onSaveComplete(),\n              error: err => this.errorMessage = err\n            });\n        }\n      } else {\n        this.onSaveComplete();\n      }\n    } else {\n      this.errorMessage = 'Please correct the validation errors.';\n    }\n  }\n\n  onSaveComplete(): void {\n    // Reset the form to clear the flags\n    this.exerciseForm.reset();\n    this.router.navigate(['/workout']);\n  }\n\n}\n","<p>workout-creation works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}